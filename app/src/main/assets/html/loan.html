<div class="dLoan">
    <form class="form-horizontal">
        <div class="form-group">
            <label class="col-xs-4 control-label">대출금</label>

            <div class="col-xs-8">
                <div class="input-group">
                    <input type="number" class="form-control" data-bind="value: money"/>

                    <div class="input-group-addon">만원</div>
                </div>
                <span class="help-block"><span class="text-danger" data-bind="text: moneyText"></span>원</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-4 control-label">대출금리</label>

            <div class="col-xs-8">
                <div class="input-group">
                    <div class="input-group-addon">연</div>
                    <input type="number" class="form-control" data-bind="value: rate"/>

                    <div class="input-group-addon">만원</div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-4 control-label">대출기간</label>

            <div class="col-xs-8">
                <div class="input-group">
                    <input type="number" class="form-control" data-bind="value: period"/>

                    <div class="input-group-addon">개월</div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-4 control-label">거치기간</label>

            <div class="col-xs-8">
                <div class="input-group">
                    <input type="number" class="form-control" data-bind="value: term"/>

                    <div class="input-group-addon">개월</div>
                </div>
            </div>
        </div>
    </form>

    <div class="form-group">
        <div class="panel panel-danger">
            <div class="panel-heading"><i class="glyphicon glyphicon-star"></i> 오차 가능성 안내</div>
            <div class="panel-body">
                본 대출금 상환 계산기는 월 단위로 계산 한 것이므로, 실제 대출 시작 일자에 일할 계산에 따른 약간의 차이는 있을 수 있습니다.
            </div>
        </div>

        <div class="text-center">
            <button type="button" class="btn btn-primary" onclick="$.app.loan.calc();">계산하기</button>
            <button type="button" class="btn btn-danger" onclick="$.app.loan.reset();">초기화</button>
        </div>
    </div>

    <div class="dResult" data-bind="visible : showResult">
        <ul class="nav nav-tabs">
            <li role="presentation" data-bind="css: { active : type() == 1 }"><a href="javascript:void(0)" onclick="$.app.loan.vm.type(1);">원리금균등상환</a></li>
            <li role="presentation" data-bind="css: { active : type() == 2 }"><a href="javascript:void(0)" onclick="$.app.loan.vm.type(2);">원금균등상환</a></li>
            <li role="presentation" data-bind="css: { active : type() == 3 }"><a href="javascript:void(0)" onclick="$.app.loan.vm.type(3);">원금만기일시상환</a></li>
        </ul>
        <div data-bind="visible : type() == 1">
            <div class="panel panel-primary">
                <div class="panel-body">
                    가장 일반적인 방법으로, 원금과 이자를 합한 상환금액이 매달 동일합니다.
                </div>
            </div>
        </div>
        <div data-bind="visible : type() == 2">
            <div class="panel panel-primary">
                <div class="panel-body">
                    매달 원금을 동일하게 상환하므로, 이자는 매달 줄어들게 됩니다. 단, 매달 이자가 다르므로 원금과 이자를 합한 상환금액도 매달 달라집니다.
                </div>
            </div>
        </div>
        <div data-bind="visible : type() == 3">
            <div class="panel panel-primary">
                <div class="panel-body">
                    대출기간동안 매달 이자만 상환하하고, 대출 만기일에 원금을 일시상환 합니다.
                </div>
            </div>
        </div>

        <table class="table table-bordered table-condensed dSummary" summary="상환방법, 대출원금(원), 대출기간, 거치기간, 대출이율, 월평균이자(원), 총 이자액(원), 원금 및 총이자액 합계(원) 제공">
            <caption><span data-bind="text: typeText"></span> 계산결과</caption>
            <thead>
            <tr>
                <th scope="col">대출원금</th>
                <th scope="col">대출기간</th>
                <th scope="col">거치기간</th>
                <th scope="col">대출이율</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td><span data-bind="text: $.app.util.printNumber(money())"></span></td>
                <td><span data-bind="text: period"></span>개월</td>
                <td><span data-bind="text: term"></span>개월</td>
                <td><span data-bind="text: rate"></span>%</td>
            </tr>
            </tbody>
            <thead>
            <tr>
                <th scope="col">월평균이자</th>
                <th scope="col">총 이자액</th>
                <th scope="col" colspan="2">원금 및 총이자액</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td><span data-bind="text: loanMonth"></span></td>
                <td><span data-bind="text: loanRateAmt"></span></td>
                <td colspan="2"><span data-bind="text: loanTotalAmt"></span></td>
            </tr>
            </tbody>
        </table>

        <table class="table table-striped table-bordered table-condensed dRows">
            <thead>
            <tr>
                <th>회차</th>
                <th>상환금</th>
                <th>납입원금</th>
                <th>이자</th>
                <th>납입원금계</th>
                <th>잔금</th>
            </tr>
            </thead>
            <tbody data-bind="foreach: rows">
            <tr>
                <td data-bind="text: num"></td>
                <td data-bind="text: payments"></td>
                <td data-bind="text: principal"></td>
                <td data-bind="text: interest"></td>
                <td data-bind="text: total"></td>
                <td data-bind="text: balance"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>